name: Keep Render Backend Alive

on:
    schedule:
        # Runs every 10 minutes (Render free tier spins down after 15 min)
        - cron: "*/10 * * * *"
    workflow_dispatch: # Allows manual trigger from Actions tab

jobs:
    keep-alive:
        runs-on: ubuntu-latest
        steps:
            - name: Ping inBlox Backend
              run: |
                  echo "🏓 Pinging inBlox backend on Render..."
                  curl -f https://innow8blocks-backend.onrender.com/ping || exit 1
                  echo "✅ Backend alive and responding at $(date)"
                  echo "⏰ Next check in 10 minutes"
